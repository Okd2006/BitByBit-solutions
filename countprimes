#include <vector> // You'll need to include the vector library

class Solution {
public:
    int countPrimes(int n) {
        if (n <= 2) {
            return 0;
        }

        // 1. Create a boolean array (vector) initialized to 'true'.
        // isPrime[i] will be true if 'i' is a prime, false otherwise.
        std::vector<bool> isPrime(n, true);

        // 2. Mark 0 and 1 as not prime.
        isPrime[0] = false;
        isPrime[1] = false;

        // 3. The Sieve algorithm.
        // We only need to loop up to sqrt(n).
        for (int p = 2; p * p < n; p++) {
            
            // 4. If isPrime[p] is still true, then 'p' is a prime number.
            if (isPrime[p]) {
                
                // 5. Mark all multiples of 'p' as false.
                // We can start marking from p*p (a key optimization)
                // because smaller multiples (like 2*p, 3*p) would
                // have already been marked by smaller primes (like 2, 3).
                for (int i = p * p; i < n; i += p) {
                    isPrime[i] = false;
                }
            }
        }

        // 6. Count the primes.
        // We can use the count() algorithm or a simple loop.
        int count = 0;
        for (int i = 2; i < n; i++) {
            if (isPrime[i]) {
                count++;
            }
        }

        return count;
    }
};
